# Auto Article Backend - ูุธุงู ุฅูุดุงุก ุงูููุงูุงุช ุงูุขูู ุงููุญุณู

ูุธุงู ูุชูุฏู ูุฅูุดุงุก ุงูููุงูุงุช ุขููุงู ุจุงุณุชุฎุฏุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุน ุชุญุณููุงุช ุดุงููุฉ ููุงูุชุตุงุฏ ูุงูุฑุจุญูุฉ.

## ๐ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### ๐ฐ ุฅุฏุงุฑุฉ ุงูุชุตุงุฏูุฉ ููููุฒุงููุฉ
- **ูุฑุงูุจุฉ ุงูุชูููุฒ**: ูุฑุงูุจุฉ ูุณุชูุฑุฉ ูุงุณุชุฎุฏุงู ุงูุชูููุฒ ูุน ุญุฏูุฏ ุดูุฑูุฉ ูุญููุฉ (4 ููููู ุชููู)
- **ุงุฎุชูุงุฑ ุงูููุฏูู ุงูุฐูู**: ุงุฎุชูุงุฑ ุชููุงุฆู ููููุงุฐุฌ ุงูุงูุชุตุงุฏูุฉ ุญุณุจ ููุน ุงููุญุชูู ูุงูููุฒุงููุฉ ุงููุชุจููุฉ
- **ุงููุถุน ุงูุทุงุฑุฆ**: ุฅููุงู ุชููุงุฆู ุนูุฏ ุงูุชุฑุงุจ ุงุณุชููุงุฏ ุงูููุฒุงููุฉ
- **ุชูุจููุงุช ุงูููุฒุงููุฉ**: ุชูุจููุงุช ูุจูุฑุฉ ุนูุฏ 80%, 90%, 95%, 98% ูู ุงูุงุณุชุฎุฏุงู

### ๐ ุงุณุชุฑุงุชูุฌูุฉ ุงูุฑุจุญูุฉ
- **ุชูุฒูุน ุฐูู**: ุชูุฒูุน ุงููุญุชูู ุญุณุจ ูุนุฏู ุงูุฑุจุญ (RPM) ููู ูุบุฉ ููุฆุฉ
- **ุงูุฃููููุฉ ูููุญุชูู ุนุงูู ุงููููุฉ**: 
  - ุฅูุฌููุฒูุฉ (35%) - ุฃุนูู ุฑุจุญ (15.50 RPM)
  - ุฃููุงููุฉ (20%) - ุฑุจุญ ุนุงูู (12.80 RPM)
  - ูุฑูุณูุฉ (15%) - ุฑุจุญ ูุชูุณุท (9.40 RPM)
- **ูุฆุงุช ูุฑุจุญุฉ ุฃููุงู**: ุชูููุฉุ ูุงููุฉุ ุฃุนูุงู ูุฃููููุฉ ูุตูู

### ๐ ุชูุงูู Google Trends ูุญุณู
- **ุชุฑูุฏุฒ ุญููููุฉ**: ุฏูุฌ ููุงุถูุน ุฑุงุฆุฌุฉ ูู Google Trends ููู ูุบุฉ ูููุทูุฉ
- **ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ**: ูุธุงู Fallback ูุชุทูุฑ ูุน ุฅุนุงุฏุฉ ุงููุญุงููุฉ ูุงูู Cache
- **ุชูุฒูุน ุฌุบุฑุงูู**: ุงุณุชูุฏุงู ููุงุทู ูุฎุชููุฉ ุญุณุจ ุงููุบุฉ (US ููุฅูุฌููุฒูุฉุ DE ููุฃููุงููุฉุ ุฅูุฎ)

### ๐ฏ ุงุณุชุฑุงุชูุฌูุฉ ุงููุญุชูู ุงููุชูุฏูุฉ
- **ุฃููุงุน ูุญุชูู ูุชููุนุฉ**:
  - ููุงูุงุช SEO ุนุงููุฉ ุงููููุฉ (45%) - ูููุญุชูู ุงูุชููู ูุงููุงูู
  - ุฃุฎุจุงุฑ ุฑุงุฆุฌุฉ (25%) - ููููุงุถูุน ุงูุญุฏูุซุฉ
  - ุฃุฏูุฉ ุนูููุฉ (20%) - ูููุญุชูู ุงูุชุนูููู
  - ุฑุคู ุณุฑูุนุฉ (10%) - ูููุญุชูู ุงูุฎููู

### ๐ ูุฑุงูุจุฉ ุดุงููุฉ ููุตุญุฉ
- **ูุญุต ุงูุตุญุฉ ุงูุชููุงุฆู**: ูุฑุงูุจุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุชุ AIุ ุงูุชุฑูุฏุฒุ ูุงูููุฒุงููุฉ
- **ุชูุงุฑูุฑ ููููุฉ**: ุชูุงุฑูุฑ ููุตูุฉ ุนู ุงูุฃุฏุงุก ูุงูุงุณุชุฎุฏุงู
- **ุฅูุฐุงุฑ ูุจูุฑ**: ุชูุจููุงุช ููุฑูุฉ ูููุดุงูู ุงูุญุฑุฌุฉ

## ๐ ุงููุชุทูุจุงุช

### ุงูุจูุฆุฉ ุงููุทููุจุฉ
```bash
Node.js >= 18.0.0
PostgreSQL >= 13.0
npm >= 8.0.0
```

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุฃุณุงุณูุฉ
```env
# ุฅุนุฏุงุฏุงุช ุงูุฎุงุฏู
PORT=3322
NODE_ENV=production
DATABASE_URL=postgres://user:pass@localhost:5432/auto_article

# ููุชุงุญ API ุงูุฃุณุงุณู (ูุทููุจ ููุฅูุชุงุฌ)
ONE_MIN_AI_API_KEY=your_key_here
ONE_MIN_AI_BASE_URL=https://api.1min.ai

# ุฅุนุฏุงุฏุงุช ุงูุฅูุชุงุฌ ุงููุญุณูุฉ ููุงูุชุตุงุฏ
DAILY_ARTICLE_TARGET=100
MONTHLY_TOKEN_CAP=4000000

# ุงููุถุน ุงูุงูุชุตุงุฏู (ูููุนู ุงูุชุฑุงุถูุงู)
BUDGET_MODE=true
PREMIUM_CONTENT_PERCENTAGE=20
ENABLE_WEB_SEARCH=false
WEB_SEARCH_HIGH_VALUE_ONLY=true

# ุฅุนุฏุงุฏุงุช ุงูููุฏูู ุงูุงูุชุตุงุฏูุฉ
AI_DEFAULT_TEXT_MODEL=gpt-4o-mini
AI_FALLBACK_MODEL=mistral-nemo
AI_PREMIUM_MODEL=gpt-4o

# ุชุญุณูู ุงูุฃุฏุงุก
MAX_BATCH_PER_RUN=6
CRON_SCHEDULE=*/20 * * * *
```

### ุฅุนุฏุงุฏุงุช ุงููุบุงุช ูุงููุฆุงุช (ูุญุณูุฉ ููุฑุจุญูุฉ)
```env
# ุชุฑุชูุจ ุงููุบุงุช ุญุณุจ ุงูุฑุจุญูุฉ
SUPPORTED_LANGUAGES=en,de,fr,es,pt,ar,hi

# ุชุฑุชูุจ ุงููุฆุงุช ุญุณุจ ุงูุฑุจุญูุฉ  
TOP_CATEGORIES=technology,finance,business,health,travel,sports,entertainment

# ุฅุนุฏุงุฏุงุช Google Trends
TRENDS_ENABLED=true
TRENDS_CACHE_TTL_MINUTES=45
TRENDS_GEO_EN=US
TRENDS_GEO_DE=DE
TRENDS_GEO_FR=FR
```

## ๐ง ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุงุณุชูุณุงุฎ ุงููุดุฑูุน
```bash
git clone <repository-url>
cd auto-article-backend
npm install
```

### 2. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
# ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุฌุฏุงูู
npm run migrate

# ุจุฐุฑ ุงูุจูุงูุงุช ุงูุฃูููุฉ (ุงููุฆุงุช)
npm run seed
```

### 3. ุงูุชุดุบูู
```bash
# ุงูุชุทููุฑ ูุน ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชููุงุฆู
npm run dev

# ุงูุฅูุชุงุฌ
npm start

# ูุญุต ุงูุตุญุฉ ููุท
npm run health-check
```

## ๐ ุงููุฑุงูุจุฉ ูุงูุฅุฏุงุฑุฉ

### ููุงุท ููุงูุฉ ุงููุฑุงูุจุฉ

#### ูุญุต ุงูุตุญุฉ ุงูุณุฑูุน
```http
GET /health
```
```json
{
  "status": "HEALTHY",
  "timestamp": "2024-01-15T10:30:00.000Z",
  "checks": {
    "database": true,
    "budget": true,
    "configuration": true
  },
  "uptime": 3600
}
```

#### ุชูุฑูุฑ ุงูููุฒุงููุฉ ุงูุดุงูู
```http
GET /admin/budget
Authorization: Bearer your-token
```
```json
{
  "summary": {
    "status": "HEALTHY",
    "utilizationRate": "45.2%",
    "remainingBudget": "2,192K tokens",
    "daysRemaining": 16,
    "projectedStatus": "WITHIN BUDGET"
  },
  "currentUsage": {
    "usedTokens": "1,808,000",
    "monthlyLimit": "4,000,000",
    "dailyAverage": "112,500",
    "articlesToday": 45,
    "avgTokensPerArticle": 2250
  },
  "recommendations": [
    {
      "priority": "LOW",
      "action": "Continue monitoring",
      "details": "Budget usage is within acceptable parameters"
    }
  ]
}
```

#### ูุญุต ุงูุตุญุฉ ุงูุดุงูู
```http
GET /admin/health/full
Authorization: Bearer your-token
```

#### ุงูุชุดุบูู ุงููุฏูู
```http
POST /admin/generate
Authorization: Bearer your-token
Content-Type: application/json

{
  "batchSize": 5,
  "language": "en",
  "category": "technology",
  "forceHighValue": true
}
```

## ๐ก ุงูุงุณุชุฎุฏุงู ุงูุฃูุซู

### 1. ุฅุนุฏุงุฏุงุช ุงูุฅูุชุงุฌ ุงูููุซูู
```env
# ููุญุตูู ุนูู ุฃูุตู ุฑุจุญูุฉ ูุน ุฃูู ุชูููุฉ
DAILY_ARTICLE_TARGET=80
MONTHLY_TOKEN_CAP=3800000
BUDGET_MODE=true
PREMIUM_CONTENT_PERCENTAGE=15

# ุชุฑููุฒ ุนูู ุงููุบุงุช ุงููุฑุจุญุฉ
SUPPORTED_LANGUAGES=en,de,fr,es

# ุชุฑููุฒ ุนูู ุงููุฆุงุช ุงููุฑุจุญุฉ
TOP_CATEGORIES=technology,finance,business,health
```

### 2. ูุฑุงูุจุฉ ุงูููุฒุงููุฉ
- ูุญุต ุชูุฑูุฑ ุงูููุฒุงููุฉ ููููุงู ุนุจุฑ `/admin/budget`
- ูุฑุงูุจุฉ ุงูุชูุจููุงุช ูู logs ุงููุธุงู
- ุชุนุฏูู `DAILY_ARTICLE_TARGET` ุญุณุจ ุงูุงุณุชุฎุฏุงู ุงููุนูู

### 3. ุชุญุณูู ุงูุฌูุฏุฉ
- ุชูุนูู Google Trends ูููุญุชูู ุงูุฑุงุฆุฌ
- ุงุณุชุฎุฏุงู Web Search ูููุฆุงุช ุนุงููุฉ ุงููููุฉ ููุท
- ูุฑุงูุจุฉ ูุชูุณุท ุงูุชูููุฒ ููู ููุงู

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ ูุญููููุง

#### 1. ุชุฌุงูุฒ ุงูููุฒุงููุฉ
```
ERROR: Monthly token cap reached
```
**ุงูุญู:**
- ูุญุต `/admin/budget` ูุฑุคูุฉ ุงูุงุณุชุฎุฏุงู ุงูุชูุตููู
- ุชูููู `DAILY_ARTICLE_TARGET`
- ุชูุนูู `BUDGET_MODE=true`
- ุงุณุชุฎุฏุงู ููุงุฐุฌ ุงูุชุตุงุฏูุฉ ุฃูุซุฑ

#### 2. ูุดู Google Trends
```
WARN: Google Trends fetch failed
```
**ุงูุญู:**
- ุงูุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
- ูุญุต ุญุฏูุฏ Google Trends API
- ุงููุธุงู ุณูุณุชุฎุฏู ููุงุถูุน ุงุญุชูุงุทูุฉ ุชููุงุฆูุงู

#### 3. ุฃุฏุงุก ุจุทูุก
```
WARN: Slow generation detected
```
**ุงูุญู:**
- ุชูููู `MAX_BATCH_PER_RUN`
- ุฒูุงุฏุฉ `CRON_SCHEDULE` (ูุซู `*/30 * * * *`)
- ุงุณุชุฎุฏุงู ููุงุฐุฌ ุฃุณุฑุน

### ูุญุต ุงูุตุญุฉ ุงูุชุดุฎูุตู
```bash
# ูุญุต ุณุฑูุน ููููููุงุช ุงูุฃุณุงุณูุฉ
curl -s http://localhost:3322/health | jq

# ูุญุต ุดุงูู (ูุชุทูุจ authentication)
curl -s -H "Authorization: Bearer token" \
  http://localhost:3322/admin/health/full | jq
```

## ๐ ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก

### ูุนุฏูุงุช ุงูุฅูุชุงุฌ ุงููุชููุนุฉ
- **100 ููุงู/ููู** = ~3.96M ุชููู/ุดูุฑ (99% ูู ุงูุญุฏ ุงูุฃูุตู)
- **80 ููุงู/ููู** = ~3.17M ุชููู/ุดูุฑ (79% ูู ุงูุญุฏ ุงูุฃูุตู) โ **ูููุตู ุจู**
- **60 ููุงู/ููู** = ~2.38M ุชููู/ุดูุฑ (60% ูู ุงูุญุฏ ุงูุฃูุตู)

### ุชูุฒูุน ุงูุชูููุฒ ุญุณุจ ุงููููู
- **ุงููุญุชูู ุงูุฃุณุงุณู**: 85%
- **ุงูุจุญุซ ุนูู ุงูููุจ**: 10% (ูููุญุชูู ุนุงูู ุงููููุฉ ููุท)
- **ุงููุนุงูุฌุฉ ูุงูุชุญุณูู**: 5%

### ูุนุฏู ุงูุฑุจุญูุฉ ุงููุชููุน
- **ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ**: 15.50 RPM
- **ุงูุฃููุงููุฉ**: 12.80 RPM  
- **ุงููุฑูุณูุฉ**: 9.40 RPM
- **ุงููุชูุณุท ุงูุนุงู**: ~11.20 RPM

## ๐ก๏ธ ุงูุฃูุงู

### ุงูุชูุตูุงุช ุงูุฃูููุฉ
- ุงุณุชุฎุฏุงู HTTPS ูู ุงูุฅูุชุงุฌ
- ุชุฃููู ููุงุชูุญ API ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
- ุชูุนูู authentication ูู admin endpoints
- ูุฑุงูุจุฉ logs ูููุดู ุนู ุงูุฃูุดุทุฉ ุงููุดุจููุฉ

### ุญูุงูุฉ ุงูููุฒุงููุฉ
- ุชูุนูู ุงููุถุน ุงูุทุงุฑุฆ ุงูุชููุงุฆู
- ุชูุจููุงุช ููุฑูุฉ ุนูุฏ 95% ุงุณุชุฎุฏุงู
- ุญุฏูุฏ ููููุฉ ุตุงุฑูุฉ

## ๐ ุงูุฏุนู

### Logs ูููุฏุฉ ููุชุดุฎูุต
```bash
# ูุฑุงูุจุฉ logs ูุจุงุดุฑุฉ
npm run logs

# ููุชุฑุฉ ุญุณุจ ูุณุชูู ุงูุฎุทูุฑุฉ
npm run logs | grep "ERROR\|WARN"

# ูุฑุงูุจุฉ ุงูููุฒุงููุฉ ุฎุตูุตุงู
npm run logs | grep "Budget"
```

### ูุนูููุงุช ูููุฏุฉ ููุฏุนู
- ุฅุตุฏุงุฑ Node.js: `node --version`
- ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช: `GET /health`
- ุชูุฑูุฑ ุงูููุฒุงููุฉ: `GET /admin/budget`
- ูุญุต ุงูุตุญุฉ ุงูุดุงูู: `GET /admin/health/full`

---

## ๐ ููุงุญุธุงุช ูุงูุฉ

1. **ุงูุงูุชุตุงุฏ ุฃููุงู**: ุงููุธุงู ููุญุณู ููุญูุงุธ ุนูู ุงูููุฒุงููุฉ ุถูู 4 ููููู ุชููู ุดูุฑูุงู
2. **ุฌูุฏุฉ ุนุงููุฉ**: ุฑุบู ุงูุชุญุณูู ุงูุงูุชุตุงุฏูุ ุงูุฌูุฏุฉ ูุญููุธุฉ ูู ุฎูุงู ุงูุงุฎุชูุงุฑ ุงูุฐูู ููููุงุฐุฌ
3. **ูุฑุงูุจุฉ ูุณุชูุฑุฉ**: ุงููุธุงู ูุฑุงูุจ ููุณู ูููุฑุณู ุชูุจููุงุช ุนูุฏ ุฃู ูุดุงูู
4. **ูุฑููุฉ ุงูุชูุณุน**: ุณูููุฉ ุชุนุฏูู ุงูุฅุนุฏุงุฏุงุช ุญุณุจ ุงูููู ูุงููุชุทูุจุงุช

**ูุตูุญุฉ**: ุงุจุฏุฃ ุจู 60-80 ููุงู ููููุงู ุซู ุงุถุจุท ุญุณุจ ุงูุงุณุชุฎุฏุงู ุงููุนูู ูุงููุชุงุฆุฌ ุงููุทููุจุฉ.